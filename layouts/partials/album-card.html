{{ $gallery := partial "get-gallery.html" . }}
{{ $filter := images.Grayscale }}
{{ with $gallery }}
  <!-- JavaScript for logging to console -->
  <script>
    console.log("page RelPermalink: {{ .page.RelPermalink }}");
    console.log("page Title: {{ .page.Title }}");
  </script>
  <a class="card" href="{{ .page.RelPermalink }}" title="{{ .page.Title }}">
    {{ $thumbnail := .thumbnail }}
    {{ if $filter }}
      {{ $thumbnail = $thumbnail.Filter $filter }}
    {{ end }}
    <img loading="lazy" width="{{ $thumbnail.Width }}" height="{{ $thumbnail.Height }}" src="{{ $thumbnail.RelPermalink }}" style="background-color: {{ .color }}" alt="{{ .page.Title }}" />
    <div>
      <h2>{{ .page.Title }}</h2>
      <p>
        {{ if gt .albumCount 0 }}
          {{ T "albumCount" (dict "count" (.albumCount | lang.FormatNumber 0) "photoCount" (.imageCount | lang.FormatNumber 0 | lang.Translate "photoCount")) }}
        {{ else }}
          {{ T "photoCount" (.imageCount | lang.FormatNumber 0) }}
        {{ end }}
      </p>
    </div>
  </a>
{{ end }}
